# Meet-Commit ‚Äî AI-—Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è –≤—Å—Ç—Ä–µ—á

Telegram-–±–æ—Ç –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç—ã –≤—Å—Ç—Ä–µ—á –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç—á—ë—Ç—ã —Å –∑–∞–¥–∞—á–∞–º–∏, —Ç–µ–≥–∞–º–∏ –∏ –ø–æ–≤–µ—Å—Ç–∫–∞–º–∏. –í—Å—ë —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ Notion.

---

## üöÄ –î–µ–ø–ª–æ–π (Render Cloud)

–ë–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–ª–∞–∫–µ –Ω–∞ Render. URL: **https://meet-commit-bot.onrender.com**

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–∞ Render

| –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è | –û–ø–∏—Å–∞–Ω–∏–µ |
|-----------|---------|
| `TELEGRAM_TOKEN` | –¢–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç @BotFather |
| `OPENAI_API_KEY` | –ö–ª—é—á OpenAI API |
| `NOTION_TOKEN` | Internal Integration Token Notion |
| `NOTION_DB_MEETINGS_ID` | ID –±–∞–∑—ã Meetings |
| `COMMITS_DB_ID` | ID –±–∞–∑—ã Commits |
| `REVIEW_DB_ID` | ID –±–∞–∑—ã Review Queue |
| `AGENDAS_DB_ID` | ID –±–∞–∑—ã Agendas |
| `NOTION_DB_TAG_CATALOG_ID` | ID –±–∞–∑—ã Tag Catalog |
| `APP_ADMIN_USER_IDS` | Telegram ID –∞–¥–º–∏–Ω–æ–≤ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é) |
| `DEPLOYMENT_MODE` | `render` |
| `WEBHOOK_URL` | `https://meet-commit-bot.onrender.com/telegram/webhook` |
| `REDIS_URL` | Redis URL –æ—Ç Render Redis service |

### Render —Å–µ—Ä–≤–∏—Å—ã

- **Web Service:** `meet-commit-bot` (Starter, $7/–º–µ—Å, Oregon)
- **Redis:** `meet-commit-redis` (Starter, $7/–º–µ—Å, Oregon)
- **–ò—Ç–æ–≥–æ:** $14/–º–µ—Å

---

## ü§ñ –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–æ—Ç

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ñ–∞–π–ª –≤—Å—Ç—Ä–µ—á–∏ (`.txt`, `.pdf`, `.docx`, `.vtt`) –∏–ª–∏ –≤—Å—Ç–∞–≤—å—Ç–µ —Ç–µ–∫—Å—Ç
2. –í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç–∏–ª—å: **Brief** / **Detailed** / **Structured**
3. –ë–æ—Ç –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Ç–µ–∫—Å—Ç, —Å—É–º–º–∞—Ä–∏–∑–∏—Ä—É–µ—Ç —á–µ—Ä–µ–∑ GPT-4o-mini, —Ä–∞—Å—Å—Ç–∞–≤–ª—è–µ—Ç —Ç–µ–≥–∏
4. –ò–∑–≤–ª–µ–∫–∞–µ—Ç –∑–∞–¥–∞—á–∏ (–∫–æ–º–º–∏—Ç—ã) –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å—ë –≤ Notion
5. –ü–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ ‚Äî –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–≥–æ–≤

---

## üìã –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### –û—Å–Ω–æ–≤–Ω—ã–µ
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------|
| `/start` | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ —Å–ø–∏—Å–æ–∫ –∫–æ–º–∞–Ω–¥ |
| `/help` | –ü–æ–ª–Ω–∞—è —Å–ø—Ä–∞–≤–∫–∞ |

### –ó–∞–¥–∞—á–∏ (–∫–æ–º–º–∏—Ç—ã)
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------|
| `/commit` | –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ |
| `/llm <—Ç–µ–∫—Å—Ç>` | –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞—á—É —á–µ—Ä–µ–∑ AI |
| `/mine` | –ú–æ–∏ –∑–∞–¥–∞—á–∏ (–≤—Å–µ) |
| `/mine_active` | –¢–æ–ª—å–∫–æ –∞–∫—Ç–∏–≤–Ω—ã–µ |
| `/theirs` | –ß—É–∂–∏–µ –∑–∞–¥–∞—á–∏ |
| `/due` | –î–µ–¥–ª–∞–π–Ω—ã –Ω–∞ –Ω–µ–¥–µ–ª—é |
| `/today` | –ì–æ—Ä—è—â–∏–µ –∑–∞–¥–∞—á–∏ |
| `/commits` | –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–º–∏—Ç—ã |
| `/by_tag <—Ç–µ–≥>` | –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–≥—É |
| `/by_assignee <–∏–º—è>` | –ó–∞–¥–∞—á–∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è |

### –ü–æ–≤–µ—Å—Ç–∫–∏
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------|
| `/agenda` | –°–æ–∑–¥–∞—Ç—å –ø–æ–≤–µ—Å—Ç–∫—É (–∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ) |
| `/agenda_person <–∏–º—è>` | –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–≤–µ—Å—Ç–∫–∞ |
| `/agenda_tag <—Ç–µ–≥>` | –¢–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–æ–≤–µ—Å—Ç–∫–∞ |
| `/agenda_meeting <id>` | –ü–æ–≤–µ—Å—Ç–∫–∞ –≤—Å—Ç—Ä–µ—á–∏ |

### Review Queue
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------|
| `/review` | –û—á–µ—Ä–µ–¥—å –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É |
| `/confirm <id>` | –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞–¥–∞—á—É |
| `/delete <id>` | –£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É |
| `/assign <id> <–∏–º—è>` | –ù–∞–∑–Ω–∞—á–∏—Ç—å –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—è |
| `/flip <id>` | –ü–æ–º–µ–Ω—è—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ |

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª—é–¥—å–º–∏
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------|
| `/people_miner2` | –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –Ω–æ–≤—ã—Ö –ª—é–¥–µ–π |
| `/people_stats_v2` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–ª–æ–≤–∞—Ä—è |

### –ê–¥–º–∏–Ω—Å–∫–∏–µ –∫–æ–º–∞–Ω–¥—ã
| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|---------|
| `/admin_help` | –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∞–¥–º–∏–Ω—Å–∫–∏—Ö –∫–æ–º–∞–Ω–¥ |
| `/tags_stats` | –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è |
| `/tags_validate` | –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∞–≤–∏–ª —Ç–µ–≥–æ–≤ |
| `/retag_all` | –ú–∞—Å—Å–æ–≤–æ–µ –ø–µ—Ä–µ—Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ |
| `/webhook_status` | –°—Ç–∞—Ç—É—Å webhook |
| `/webhook_reset` | –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å webhook |
| `/metrics` | –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ |
| `/sync_tags` | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–µ–≥–æ–≤ –∏–∑ Notion |

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
Telegram (webhook) ‚Üí FastAPI ‚Üí aiogram Dispatcher
                                       ‚Üì
                            Handlers (bot/)
                                       ‚Üì
                   OpenAI GPT-4o-mini (—Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è)
                                       ‚Üì
                         Notion API (5 –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö)
                                       ‚Üì
                       Redis (FSM —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–æ—Ç–∞)
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
app/
‚îú‚îÄ‚îÄ bot/          # Telegram handlers, FSM states, keyboards
‚îú‚îÄ‚îÄ core/         # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (normalize, tagger, people, etc.)
‚îú‚îÄ‚îÄ gateways/     # Notion API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ dictionaries/ # –°–ª–æ–≤–∞—Ä–∏ –ª—é–¥–µ–π –∏ —Ç–µ–≥–æ–≤ (JSON)
‚îú‚îÄ‚îÄ settings.py   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ pydantic-settings
‚îî‚îÄ‚îÄ server.py     # FastAPI + lifespan + webhook endpoint
```

---

## üß™ –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
python -m venv venv && source venv/bin/activate
pip install -r requirements.txt

# –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º (~30 —Å–µ–∫)
./quick-check.sh

# –ü–æ–ª–Ω—ã–π CI (~2-3 –º–∏–Ω)
./ci.sh

# –¢–µ—Å—Ç—ã
make test
make test-cov

# –õ–∏–Ω—Ç–∏–Ω–≥
make lint        # ruff check
make fmt         # ruff format
make typecheck   # mypy
make security    # bandit
```

### –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

```bash
cp config.env.example .env
# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ .env

python -m app.bot.main
```

> ‚ö†Ô∏è –í –ª–æ–∫–∞–ª—å–Ω–æ–º —Ä–µ–∂–∏–º–µ –±–æ—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤ **polling** —Ä–µ–∂–∏–º–µ.
> –ü–µ—Ä–µ–º–µ–Ω–Ω–∞—è `DEPLOYMENT_MODE` –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å `render`.

---

## üìä –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö Notion

| –ë–∞–∑–∞ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|------|-----------|
| Meetings | –í—Å—Ç—Ä–µ—á–∏ —Å —Ä–µ–∑—é–º–µ, —Ç–µ–≥–∞–º–∏, —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ |
| Commits | –ó–∞–¥–∞—á–∏ –∏ –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ |
| Review Queue | –°–æ–º–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É |
| Agendas | –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–≤–µ—Å—Ç–∫–∏ |
| Tag Catalog | –ü—Ä–∞–≤–∏–ª–∞ —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏—è |

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [`docs/README.md`](docs/README.md) ‚Äî –ø–æ–ª–Ω—ã–π —Å–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
- [`PRODUCT_OVERVIEW.md`](PRODUCT_OVERVIEW.md) ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [`TEST_PLAN.md`](TEST_PLAN.md) ‚Äî –ø–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π
- [`docs/webhook_protection.md`](docs/webhook_protection.md) ‚Äî –∑–∞—â–∏—Ç–∞ webhook
- [`docs/setup_admin_access.md`](docs/setup_admin_access.md) ‚Äî –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
