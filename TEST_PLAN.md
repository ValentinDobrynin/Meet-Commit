# üß™ Meet-Commit Bot ‚Äî Test Plan

**Last updated:** 21 February 2026  
**Tested:** 9 of 33 tests

---

## üìä Test Status Summary

‚úÖ **PASS:** 7 tests  
‚ö†Ô∏è **PARTIAL:** 2 tests  
‚ùå **FAIL:** 0 tests  
‚è≥ **NOT TESTED:** 24 tests

---

## üìã Basic Commands

### ‚úÖ Test 1: /start command [PASS]

**What we check:** Welcome message and user registration

**Date:** 16.02.2026, 15:56

**Steps:**
1. Open bot in Telegram
2. Send `/start`

**Expected:**
- Bot replies instantly (< 1 sec)
- Shows welcome message
- Lists commands by category

**Result:**
```
‚úÖ Instant response (1 sec)
‚úÖ Welcome message displayed:
   "ü§ñ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ Meet-Commit!"
‚úÖ All sections present: —É–º–µ—é, –±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç, –∫–æ–º–∞–Ω–¥—ã, –ø–æ–≤–µ—Å—Ç–∫–∏, –ø—Ä–æ–≤–µ—Ä–∫–∞
‚úÖ HTML formatting correct
‚úÖ User registered in active_users.json
```

---

### ‚úÖ Test 2: /help command [PASS]

**What we check:** Full command reference

**Date:** 16.02.2026, 15:56

**Steps:**
1. Send `/help`

**Expected:**
- Full command list
- Grouped by category

**Result:**
```
‚úÖ Instant response
‚úÖ All categories: –æ—Å–Ω–æ–≤–Ω—ã–µ, —Å–æ–∑–¥–∞–Ω–∏–µ, –∑–∞–ø—Ä–æ—Å—ã, –ø–æ–≤–µ—Å—Ç–∫–∏, –ª—é–¥–∏, review
‚úÖ Examples included
‚úÖ Admin section referenced
‚úÖ HTML formatting correct
```

---

## üìù Meeting Processing

### ‚ö†Ô∏è Test 3: .txt file upload [PARTIAL]

**What we check:** Full meeting processing pipeline

**Date:** 18-21.02.2026

**Steps:**
1. Upload transcript file
2. Select style (Brief/Detailed/Structured)
3. Click "–ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å"
4. Wait for processing (30‚Äì90 sec)

**Expected:**
- Progress messages: –ù–∞—á–∏–Ω–∞—é ‚Üí –°—É–º–º–∞—Ä–∏–∑–∏—Ä—É—é ‚Üí –°–æ—Ö—Ä–∞–Ω—è—é ‚Üí –û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é –∫–æ–º–º–∏—Ç—ã
- Meeting card: title, date, attendees, tags, Notion link
- Summary preview
- Commit stats

**Result:**
```
‚úÖ File accepted, inline buttons shown
‚úÖ Processing runs end-to-end
‚úÖ Summary generated by GPT-4o-mini
‚úÖ Saved to Notion Meetings DB
‚úÖ Tags extracted automatically
‚úÖ People Miner adds 43-56 candidates

‚ö†Ô∏è Fixed during testing (now resolved):
   - bytes not JSON serializable ‚Üí fixed (base64)
   - "–ù–µ—Ç –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö" after button click ‚Üí fixed (key name raw_bytes_b64)
   - <future> HTML parse error ‚Üí fixed (html.escape + parse_mode=None)
   - Date showing "‚Äî" ‚Üí fixed (meta key was "meeting_date", now "date")
   - "üîç <b>–û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é –∫–æ–º–º–∏—Ç—ã...</b>" showing raw HTML ‚Üí fixed (parse_mode)
   - Title showing "02 19 –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏–µ..." ‚Üí fixed (timestamp prefix strip)
```

**Remaining notes:**
- Meetings with only declarative decisions (no explicit tasks) ‚Üí 0 commits  
  ‚Üí Fixed in prompt: decisions like "—Ä–µ—à–∏–ª–∏/–¥–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å" now create follow-up commits

---

### ‚è≥ Test 4: Other formats (PDF, DOCX, VTT) [NOT TESTED]

**Steps:**
1. Prepare same content in different formats
2. Upload each: `.pdf`, `.docx`, `.vtt`

**Expected:**
- All formats parsed correctly
- Processing identical to .txt

---

### ‚è≥ Test 5: Plain text (no file) [NOT TESTED]

**Steps:**
1. Paste meeting text directly in chat

**Expected:**
- Bot asks for style selection
- Processes same as file

---

## üìù Task Creation

### ‚úÖ Test 7: /llm command [PASS]

**What we check:** Natural language task creation via AI

**Date:** 16.02.2026

**Steps:**
1. Send: `/llm –°–∞—à–∞ —Å–¥–µ–ª–∞–µ—Ç –æ—Ç—á–µ—Ç –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º –¥–æ –ø—è—Ç–Ω–∏—Ü—ã`

**Expected:**
- AI parses: assignee, deadline, direction

**Result:**
```
‚úÖ Task created instantly
‚úÖ Assignee: Alexander (–°–∞—à–∞ resolved from dictionary)
‚úÖ Direction: theirs
‚úÖ Saved to Commits Database

/mine shows "üì≠ –ú–æ–∏ –∑–∞–¥–∞—á–∏ ‚Äî –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ" (correct: task is theirs)
```

---

### ‚è≥ Test 6: /commit interactive [NOT TESTED]

---

## üîç Search & Filtering

### ‚úÖ Test 8: /mine command [PASS]

**What we check:** Filter commits by assignee

**Date:** 16.02.2026, 15:48

**Steps:**
1. Send `/mine`

**Expected:**
- Shows user's tasks or "nothing found"

**Result:**
```
‚úÖ Response: "üì≠ –ú–æ–∏ –∑–∞–¥–∞—á–∏ (–≤—Å–µ) ‚Äî –ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ"
‚úÖ Correct (no tasks assigned to me yet)
‚úÖ Fast response
```

---

### ‚è≥ Tests 9‚Äì10: /due, /by_tag [NOT TESTED]

---

## üìä Agendas

### ‚è≥ Tests 11‚Äì12: Agendas [NOT TESTED]

---

## üîç Review Queue

### ‚ö†Ô∏è Test 13: Review Queue after meeting processing [PARTIAL]

**What we check:** Low-confidence commits go to Review

**Date:** 21.02.2026

**Steps:**
1. Upload meeting transcript
2. Send `/review`

**Expected:**
- Low-confidence commits in queue

**Result:**
```
‚ö†Ô∏è /review returned empty queue
   ‚Üí Meeting only had declarative decisions ("—Ä–µ—à–∏–ª–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å—Ç–∞–≤–∫—É 30%")
   ‚Üí GPT correctly found no action items
   ‚Üí FIXED: added "decision" pattern to extraction prompt
   ‚Üí Decisions like "—Ä–µ—à–∏–ª–∏/–¥–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å" now create follow-up commits with
     assignees=[], flags=["decision"], confidence‚âà0.6 ‚Üí go to Review Queue

Verified via local test with similar transcript:
‚úÖ "–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö: 30% —Å—Ç–∞–≤–∫–∞ –¥–ª—è –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞" ‚Üí Review Queue
‚úÖ "–æ–±—Å—É–¥–∏—Ç—å —Ä–æ—Å—Å–∏–π—Å–∫—É—é —Å—Ç–∞–≤–∫—É –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π –≤—Å—Ç—Ä–µ—á–µ" ‚Üí Review Queue
‚úÖ "–æ–±–Ω–æ–≤–∏—Ç—å —à–∞–±–ª–æ–Ω –¥–æ–≥–æ–≤–æ—Ä–∞" (explicit task) ‚Üí Commits directly
```

---

### ‚è≥ Tests 14‚Äì15: Review confirm/assign [NOT TESTED]

---

## üë• People Management

### ‚úÖ Test ‚Äî People auto-detection [PASS]

**What we check:** People Miner adds candidates from transcripts

**Date:** 18-21.02.2026

**Result:**
```
‚úÖ Meeting 1: "Added 56 new candidates, updated counts for existing ones"
‚úÖ Meeting 2: "Added 43 new candidates"
‚úÖ People Miner picks up names from transcripts automatically

Note: Gleb Dobroradnykh detected in transcript but not in people.json yet
‚Üí Will appear in /people_miner2 for verification
```

---

### ‚è≥ Tests 16‚Äì17: /people_miner2, /people_stats_v2 [NOT TESTED]

---

## üîÑ AI Commit Extraction Quality

### ‚úÖ Test ‚Äî Commit extraction with implicit tasks [PASS]

**What we check:** GPT finds implicit commits in realistic meeting text

**Date:** 21.02.2026 (manual test)

**Transcript used:** 227-word meeting about product, onboarding, integration (created locally)

**Result:**
```
‚úÖ 5 commits extracted from 227-word transcript
‚úÖ Correct assignees: Maria, Valya Dobrynin, Gleb Dobroradnykh
‚úÖ Dates parsed: "–¥–æ —Å—Ä–µ–¥—ã" ‚Üí 2026-02-23, "–∫ 27-–º—É" ‚Üí 2026-02-27
‚úÖ Direction correct: "—è –Ω–∞–ø–∏—à—É" ‚Üí mine, "–ú–∞—à–∞ –≤–æ–∑—å–º—ë—Ç" ‚Üí theirs
‚úÖ All 5 went directly to Commits (confidence ‚â• 0.65 after validation)
‚úÖ 0 went to Review Queue

Commits found:
  1. –ø—Ä–∏–≤–µ—Å—Ç–∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—é –≤ –ø–æ—Ä—è–¥–æ–∫ | Maria | conf=0.75
  2. –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ –Ø–Ω–¥–µ–∫—Å—É | Valya | conf=0.70
  3. –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–µ—Ç—Ä–∏–∫–∏ / —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–æ–π | Gleb | conf=0.75
  4. –æ–±–Ω–æ–≤–∏—Ç—å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é –¥–ª—è —Å–æ–≤–µ—Ç–∞ –¥–∏—Ä–µ–∫—Ç–æ—Ä–æ–≤ | Maria | due=2026-02-27 | conf=0.80
  5. –¥–∞—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ —Ü–∏—Ñ—Ä—ã | Valya | due=2026-02-23 | conf=0.80
```

---

### ‚úÖ Test ‚Äî Decision commits extraction [PASS]

**What we check:** "—Ä–µ—à–∏–ª–∏/–¥–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å" patterns create follow-up commits

**Date:** 21.02.2026 (after prompt update)

**Transcript:** Commercial meeting about agency rates for Kazakhstan

**Result:**
```
‚úÖ 3 commits extracted from decisions-only meeting
‚úÖ Decision commits correctly flagged with assignees=[], confidence=0.60:
   - "–∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö: 30% –∞–≥–µ–Ω—Ç—Å–∫–∞—è —Å—Ç–∞–≤–∫–∞ –¥–ª—è –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω–∞"
   - "–æ–±—Å—É–¥–∏—Ç—å —Ä–æ—Å—Å–∏–π—Å–∫—É—é —Å—Ç–∞–≤–∫—É –Ω–∞ —Å–ª–µ–¥—É—é—â–µ–π –≤—Å—Ç—Ä–µ—á–µ"
‚úÖ Explicit task correctly assigned:
   - "–æ–±–Ω–æ–≤–∏—Ç—å —à–∞–±–ª–æ–Ω –¥–æ–≥–æ–≤–æ—Ä–∞" ‚Üí Valya Dobrynin, conf=0.75
```

---

## üßπ Admin Functions

### ‚è≥ Tests 20‚Äì21: /tags_stats, /webhook_status [NOT TESTED]

---

## üö® Edge Cases

### ‚è≥ Tests 22‚Äì25: Edge cases [NOT TESTED]

---

## üîÑ Persistence & Infrastructure

### ‚úÖ Test 26: Redis FSM persistence [PASS]

**What we check:** State preserved between restarts

**Date:** 07.02.2026 (during migration)

**Result:**
```
‚úÖ Redis storage: "üîÑ Using Redis storage for cloud mode"
‚úÖ FSM states persist between container restarts
‚úÖ No state loss after deploy
```

---

### ‚è≥ Tests 27‚Äì30: Other infrastructure tests [NOT TESTED]

---

## üé® Advanced Features

### ‚è≥ Tests 31‚Äì33: Deduplication, tag inheritance, transliteration [NOT TESTED]

---

## üìä Final Checklist

### Critical (must work):
- [x] /start shows welcome
- [x] /help shows commands
- [x] File upload accepted
- [x] AI summarization works
- [x] Commits extracted from explicit tasks
- [x] Commits extracted from decisions (after prompt fix)
- [x] Saved to Notion
- [x] /mine responds correctly

### Important:
- [ ] /commit interactive
- [ ] /due deadlines
- [ ] /review workflow (confirm/assign)
- [ ] /agenda_person
- [ ] /people_miner2 verification

### Advanced:
- [ ] Meeting deduplication
- [ ] Tag inheritance on commits
- [ ] Multiple formats (PDF/DOCX/VTT)

---

## üêõ Bugs Found & Fixed During Testing

| # | Bug | Fixed | Date |
|---|-----|-------|------|
| 1 | `bytes is not JSON serializable` in Redis FSM | ‚úÖ base64 encoding | 17.02 |
| 2 | "–ù–µ—Ç –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö" after file upload | ‚úÖ key `raw_bytes_b64` | 17.02 |
| 3 | `<future>` HTML parse error in summary | ‚úÖ `html.escape()` + `parse_mode=None` | 18-19.02 |
| 4 | Default `parse_mode=HTML` causing crashes | ‚úÖ Removed from Bot init | 19.02 |
| 5 | Date showing "‚Äî" in meeting card | ‚úÖ Wrong meta key fixed | 20.02 |
| 6 | `üîç <b>–û–±—Ä–∞–±–∞—Ç—ã–≤–∞—é –∫–æ–º–º–∏—Ç—ã...</b>` raw HTML | ‚úÖ Added `parse_mode="HTML"` | 20.02 |
| 7 | Title showing "02 19 –ù–∞–∑–≤–∞–Ω–∏–µ –≤—Å—Ç—Ä–µ—á–∏" | ‚úÖ Timestamp prefix strip regex | 21.02 |
| 8 | 0 commits for decision-only meetings | ‚úÖ Decision pattern in prompt | 21.02 |

---

## üéØ Next Tests to Run

**Priority 1 (do first):**
1. **Test 6** ‚Äî `/commit` interactive (4-step dialog)
2. **Test 3 full** ‚Äî Upload file, verify Notion content end-to-end
3. **Test 13‚Äì14** ‚Äî Review Queue: confirm/assign workflow

**Priority 2:**
4. **Test 11** ‚Äî `/agenda_person` with real data
5. **Test 16** ‚Äî `/people_miner2` verify Gleb Dobroradnykh
6. **Test 9** ‚Äî `/due` with tasks that have deadlines

**Priority 3:**
7. **Test 31** ‚Äî Deduplication (upload same file twice)
8. **Test 4** ‚Äî PDF/DOCX/VTT formats
