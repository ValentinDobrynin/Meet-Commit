# 📊 Полное руководство по системе повесток Meet-Commit

## 🎯 Что такое система повесток?

Система повесток Meet-Commit — это интеллектуальная система автоматической генерации структурированных повесток на основе активных коммитов, задач на ревью и завершенных обязательств. Она помогает подготовиться к встречам, отследить прогресс по проектам и организовать персональные планы работы.

## 🏗️ Как работает система

### Типы повесток

```
📊 Система повесток
        ↓
    ┌─────────┼─────────┐
    ▼         ▼         ▼
🏢 Meeting  👤 Person  🏷️ Tag
(встреча)  (персонал) (тема)
    ▼         ▼         ▼
📋 Коммиты связанные с конкретной встречей
📋 Все задачи конкретного человека  
📋 Все коммиты по определенной теме
```

### Источники данных для повесток

**1. 📝 Активные коммиты (Status: Open)**
- Мои обязательства (Direction: Mine)
- Их обязательства (Direction: Theirs)
- Группировка по исполнителям и дедлайнам

**2. 📋 Review Queue (Status: Pending)**
- Открытые вопросы на проверку
- Сомнительные коммиты требующие обсуждения
- Неопределенные поручения

**3. ✅ Недавно выполненные (последние 7 дней)**
- Завершенные задачи для отчетности
- Достижения для демонстрации прогресса
- Закрытые вопросы ревью

## 📋 Команды создания повесток

### 1. 🏢 Повестка встречи - `/agenda_meeting <id>`

**Назначение:** Подготовка к конкретной встрече на основе связанных коммитов

**Использование:**
```bash
/agenda_meeting abc123def456
```

**Что включается:**
- Все коммиты, созданные из этой встречи
- Связанные задачи на ревью
- Недавно выполненные обязательства
- Контекст и участники встречи

**Пример результата:**
```
📊 Повестка встречи: Планирование Q4 2024
📅 Дата встречи: 01.12.2024
👥 Участники: Ivan Petrov, Maria Sidorova

🧾 Мои обязательства (2):
📝 подготовить презентацию для клиента
📤 Срок: 06.12.2024 • 🏷️ Topic/Presentation

📝 проверить интеграцию с API
📤 Срок: 10.12.2024 • 🏷️ Projects/Integration

🤝 Их обязательства (1):
📝 подготовить бюджет Q1
📤 Ivan Petrov • 📅 15.12.2024 • 🏷️ Finance/Budget

❓ Открытые вопросы (1):
🔍 уточнить требования к отчетности
📤 Неопределенный исполнитель • 🎯 Confidence: 0.6

✅ Недавно выполненные (1):
📝 настроить тестовую среду
📤 Maria Sidorova • ✅ 03.12.2024

💾 Сохранено в Notion: https://notion.so/agenda-abc123...
```

### 2. 👤 Персональная повестка - `/agenda_person <имя>`

**Назначение:** Все задачи и обязательства конкретного человека

**Использование:**
```bash
/agenda_person Ivan Petrov
```

**Что включается:**
- Все активные коммиты где человек исполнитель
- Все коммиты где человек заказчик
- Связанные вопросы ревью
- Недавние достижения

**Пример результата:**
```
👤 Персональная повестка: Ivan Petrov
📊 Период: активные + последние 7 дней

🧾 Мои задачи для Ivan Petrov (3):
📝 подготовить отчет по продажам
📤 Срок: 06.12.2024 • 💼 от Valya Dobrynin
🏷️ Finance/Sales

📝 проверить код интеграции
📤 Срок: 08.12.2024 • 💼 от Maria Sidorova  
🏷️ Projects/Integration

📝 подготовить презентацию
📤 Срок: 12.12.2024 • 💼 от John Smith
🏷️ Topic/Presentation

🤝 Задачи от Ivan Petrov (2):
📝 настроить мониторинг
📤 Maria Sidorova • 📅 10.12.2024
🏷️ Projects/Infrastructure

📝 обновить документацию
📤 John Smith • 📅 15.12.2024
🏷️ Topic/Documentation

❓ Вопросы с участием Ivan Petrov (1):
🔍 определить архитектуру системы
📤 Ivan Petrov • 🎯 требует уточнения

✅ Недавние достижения (2):
📝 завершить интеграцию с платежами
📤 Ivan Petrov • ✅ 04.12.2024

📝 провести код-ревью
📤 Ivan Petrov • ✅ 02.12.2024

💾 Сохранено в Notion: https://notion.so/agenda-person-ivan...
```

### 3. 🏷️ Тематическая повестка - `/agenda_tag <тег>`

**Назначение:** Все активности по конкретной теме или проекту

**Использование:**
```bash
/agenda_tag Finance/Budget
```

**Что включается:**
- Все коммиты с указанным тегом
- Связанные вопросы ревью
- Недавно завершенные задачи по теме
- Участники и временные рамки

**Пример результата:**
```
🏷️ Тематическая повестка: Finance/Budget
📊 Активность по теме за все время

🧾 Активные задачи (4):
📝 подготовить бюджет Q1 2025
📤 Maria Sidorova • 📅 20.12.2024
💼 от Valya Dobrynin

📝 проверить расходы за ноябрь
📤 Ivan Petrov • 📅 08.12.2024  
💼 от Finance Team

📝 согласовать бюджет с руководством
📤 John Smith • 📅 15.12.2024
💼 от Maria Sidorova

📝 подготовить презентацию бюджета
📤 Maria Sidorova • 📅 18.12.2024
💼 от Ivan Petrov

❓ Открытые вопросы (1):
🔍 уточнить статьи расходов на маркетинг
📤 Неопределенный исполнитель • 🎯 требует обсуждения

✅ Недавно выполненные (2):
📝 собрать данные по расходам Q3
📤 Ivan Petrov • ✅ 01.12.2024

📝 проанализировать отклонения бюджета
📤 Maria Sidorova • ✅ 30.11.2024

👥 Участники: Maria Sidorova, Ivan Petrov, John Smith
📅 Временные рамки: 08.12.2024 - 20.12.2024

💾 Сохранено в Notion: https://notion.so/agenda-tag-finance-budget...
```

## 🎛️ Интерактивное создание повесток

### Команда `/agenda` - Пошаговый мастер

**Шаг 1: Выбор типа повестки**
```
📊 Создание повестки

Выберите тип повестки:

[🏢 Meeting] - по конкретной встрече
[👤 Person] - персональная повестка  
[🏷️ Tag] - тематическая повестка

[❌ Отмена]
```

**Шаг 2a: Ввод ID встречи (для Meeting)**
```
🏢 Повестка встречи

📝 Введите ID встречи из Notion:

💡 Примеры:
• abc123def456 (короткий ID)
• 272344c5-6766-81a6-b2a4-f9c9df62305f (полный UUID)
• https://notion.so/Meeting-abc123... (полная ссылка)

✍️ Введите ID встречи:
```

**Шаг 2b: Ввод имени (для Person)**
```
👤 Персональная повестка

📝 Введите имя человека:

💡 Примеры:
• Ivan Petrov
• Maria Sidorova  
• John Smith

✍️ Введите имя:
```

**Шаг 2c: Ввод тега (для Tag)**
```
🏷️ Тематическая повестка

📝 Введите тег:

💡 Примеры:
• Finance/Budget
• Projects/Integration
• Topic/Planning

✍️ Введите тег:
```

**Шаг 3: Подтверждение и создание**
```
📋 Подтверждение создания повестки

🎯 Тип: Персональная повестка
👤 Контекст: Ivan Petrov
📊 Найдено: 5 активных коммитов, 2 на ревью, 3 завершенных

[✅ Создать] [✏️ Изменить] [❌ Отмена]
```

## 💾 Сохранение в Notion

### Структура данных повестки

**Основные поля в Agendas Database:**
- **Name** - название повестки
- **Date ISO** - дата создания
- **Context Type** - тип контекста (Meeting/Person/Tag)
- **Context Key** - ключ контекста (ID встречи/имя/тег)
- **Summary MD** - полное содержимое в Markdown
- **Tags** - связанные теги
- **People** - участники
- **Commit IDs** - связанные коммиты

### Автоматическое форматирование

**Markdown структура:**
```markdown
# 👤 Персональная повестка: Ivan Petrov

## 🧾 Мои задачи для Ivan Petrov (3)

### 📝 подготовить отчет по продажам
- **Срок:** 06.12.2024
- **От кого:** Valya Dobrynin  
- **Теги:** Finance/Sales
- **ID:** a1b2c3d4

### 📝 проверить код интеграции
- **Срок:** 08.12.2024
- **От кого:** Maria Sidorova
- **Теги:** Projects/Integration  
- **ID:** e5f6g7h8

## ❓ Открытые вопросы (1)

### 🔍 определить архитектуру системы
- **Исполнитель:** Ivan Petrov
- **Статус:** требует уточнения
- **ID:** i9j0k1l2

## ✅ Недавние достижения (2)

### 📝 завершить интеграцию с платежами  
- **Завершено:** 04.12.2024
- **Исполнитель:** Ivan Petrov
- **ID:** m3n4o5p6
```

### Дедупликация повесток

Система предотвращает создание дубликатов:
- Вычисляется хеш содержимого повестки
- При совпадении обновляется существующая запись
- Сохраняется история изменений

## 🔍 Поиск и фильтрация повесток

### Через Notion

**Фильтры по типу:**
- Context Type = "Meeting" - повестки встреч
- Context Type = "Person" - персональные повестки  
- Context Type = "Tag" - тематические повестки

**Фильтры по времени:**
- Date ISO ≥ начало недели - свежие повестки
- Date ISO ≥ начало месяца - месячная активность

**Поиск по участникам:**
- People contains "Ivan Petrov" - повестки с участием Ивана
- Tags contains "Finance/" - финансовые повестки

### Через команды бота

**Быстрый доступ:**
```bash
/agenda_person Ivan Petrov     # Персональная повестка
/agenda_tag Finance/Budget     # Тематическая повестка  
/agenda_meeting abc123         # Повестка встречи
```

**Обновление существующих:**
- Повторный запуск команды обновляет данные
- Актуальная информация на момент создания
- Сохранение истории изменений

## 📊 Аналитика и отчетность

### Статистика повесток

**Через Notion представления:**
1. **Активные повестки** - созданные за последнюю неделю
2. **По участникам** - группировка по People
3. **По темам** - группировка по Tags
4. **По типам** - Meeting/Person/Tag

### Метрики эффективности

**Отслеживание прогресса:**
- Количество активных коммитов в повестках
- Процент выполненных задач
- Средние сроки выполнения
- Активность по темам и участникам

**Анализ загруженности:**
- Персональные повестки показывают загрузку людей
- Тематические повестки - активность по проектам
- Повестки встреч - эффективность обсуждений

## 🎯 Практические сценарии использования

### 1. 📅 Подготовка к еженедельному синку

**Задача:** Подготовить повестку для команды разработки

**Действия:**
1. Создать тематическую повестку: `/agenda_tag Projects/Development`
2. Просмотреть активные задачи и блокеры
3. Подготовить вопросы по открытым ревью
4. Отметить достижения за неделю

**Результат:** Структурированная повестка с конкретными вопросами

### 2. 👤 Персональный планинг

**Задача:** Спланировать рабочую неделю для Ивана Петрова

**Действия:**
1. Создать персональную повестку: `/agenda_person Ivan Petrov`
2. Проанализировать дедлайны и приоритеты
3. Выявить перегруженность и конфликты
4. Спланировать перераспределение задач

**Результат:** Четкий план работы с приоритизацией

### 3. 🏢 Ретроспектива встречи

**Задача:** Проследить выполнение решений прошлой встречи

**Действия:**
1. Найти ID прошлой встречи в Notion
2. Создать повестку встречи: `/agenda_meeting abc123`
3. Проверить статус всех коммитов
4. Подготовить отчет о выполнении

**Результат:** Полный отчет о прогрессе по встрече

### 4. 🏷️ Проектный статус

**Задача:** Подготовить статус-отчет по проекту Lavka

**Действия:**
1. Создать тематическую повестку: `/agenda_tag Business/Lavka`
2. Собрать все активные задачи по проекту
3. Проанализировать блокеры и риски
4. Подготовить презентацию прогресса

**Результат:** Комплексный отчет по проекту

## 🔧 Настройки и конфигурация

### Переменные окружения

```bash
# База данных повесток
AGENDAS_DB_ID=your-agendas-database-id

# Ваше имя для персональных повесток
APP_ME_NAME_EN="Valya Dobrynin"

# Период для "недавно выполненных" (дни)
APP_AGENDA_RECENT_DAYS=7
```

### Настройка Agendas Database

**Обязательные поля:**
- **Name** (Title) - название повестки
- **Date ISO** (Date) - дата создания
- **Context Type** (Select) - Meeting/Person/Tag
- **Context Key** (Rich text) - ключ контекста
- **Summary MD** (Rich text) - содержимое в Markdown

**Дополнительные поля:**
- **Tags** (Multi-select) - связанные теги
- **People** (Multi-select) - участники
- **Commit IDs** (Rich text) - ID связанных коммитов
- **Raw Hash** (Rich text) - хеш для дедупликации

## 🚨 Устранение неполадок

### Частые проблемы

**Проблема: Повестка пустая или содержит мало данных**

*Возможные причины:*
- Неправильный ID встречи
- Имя человека не найдено в системе
- Тег не используется в коммитах
- Нет активных коммитов по критерию

*Решение:*
1. Проверьте правильность ID/имени/тега
2. Убедитесь, что есть связанные коммиты
3. Проверьте статусы коммитов (должны быть Open)
4. Используйте команды поиска для проверки данных

**Проблема: Не находится встреча по ID**

*Возможные причины:*
- Неправильный формат ID
- Встреча не существует в базе
- Нет прав доступа к встрече

*Решение:*
1. Проверьте формат ID (короткий или UUID)
2. Убедитесь, что встреча существует в Notion
3. Попробуйте скопировать ID из URL страницы
4. Используйте полную ссылку вместо ID

**Проблема: Персональная повестка не показывает все задачи**

*Возможные причины:*
- Имя написано в другом формате
- Человек не добавлен в словарь людей
- Коммиты имеют статус отличный от Open

*Решение:*
1. Проверьте точное написание имени
2. Используйте `/people_miner` для добавления в словарь
3. Проверьте статусы коммитов в Notion
4. Попробуйте разные вариации имени

**Проблема: Тематическая повестка не находит коммиты**

*Возможные причины:*
- Тег написан неправильно
- Коммиты не имеют этого тега
- Тег не используется в системе

*Решение:*
1. Проверьте точное написание тега
2. Используйте `/by_tag` для проверки коммитов
3. Проверьте список доступных тегов
4. Убедитесь в правильности формата (Category/Subcategory)

## 🎯 Лучшие практики

### Эффективное использование повесток

**Регулярность создания:**
- 📅 Создавайте персональные повестки еженедельно
- 🏢 Готовьте повестки встреч заранее
- 🏷️ Отслеживайте проекты через тематические повестки
- 🔄 Обновляйте повестки перед важными обсуждениями

**Структурирование работы:**
- 🎯 Используйте повестки для приоритизации задач
- ⏰ Планируйте время на основе дедлайнов
- 👥 Координируйте работу команды через общие повестки
- 📊 Анализируйте прогресс через завершенные задачи

### Подготовка к встречам

**Перед встречей:**
- 📋 Создайте повестку встречи для контекста
- 👥 Проверьте персональные повестки участников
- 🏷️ Подготовьте тематические повестки по проектам
- ❓ Выделите открытые вопросы для обсуждения

**Во время встречи:**
- 📱 Используйте повестку как чек-лист
- ✅ Отмечайте выполненные пункты
- 📝 Фиксируйте новые коммиты и решения
- 🔄 Обновляйте статусы задач в реальном времени

**После встречи:**
- 📊 Обновите повестку с результатами
- ✅ Отметьте завершенные задачи
- 📝 Создайте новые коммиты из решений
- 📅 Запланируйте следующие шаги

### Командная работа

**Координация через повестки:**
- 👥 Делитесь персональными повестками с командой
- 🏷️ Используйте тематические повестки для синхронизации
- 📊 Анализируйте загрузку через персональные повестки
- 🔄 Регулярно обновляйте и пересматривайте

**Прозрачность процессов:**
- 📋 Публикуйте повестки встреч заранее
- 👁️ Обеспечьте доступ к тематическим повесткам
- 📈 Отслеживайте прогресс через Notion представления
- 💬 Обсуждайте блокеры и проблемы открыто

## 🚀 Продвинутые возможности

### Автоматизация создания повесток

**Регулярные повестки:**
- Настройте еженедельное создание персональных повесток
- Автоматизируйте подготовку к регулярным встречам
- Создавайте шаблоны для типовых обсуждений

**Интеграция с календарем:**
- Связывайте повестки с календарными событиями
- Автоматически создавайте повестки для запланированных встреч
- Синхронизируйте участников и временные рамки

### Аналитика и отчетность

**Метрики эффективности:**
- Отслеживайте время выполнения коммитов
- Анализируйте загрузку участников
- Мониторьте активность по проектам
- Выявляйте узкие места и блокеры

**Прогнозирование:**
- Планируйте ресурсы на основе активных повесток
- Прогнозируйте сроки завершения проектов
- Выявляйте риски перегрузки участников

## 📞 Поддержка

### Для пользователей
- 📊 `/agenda` - интерактивное создание повесток
- 🏢 `/agenda_meeting <id>` - повестка конкретной встречи
- 👤 `/agenda_person <имя>` - персональная повестка
- 🏷️ `/agenda_tag <тег>` - тематическая повестка

### Для администраторов
- 🗄️ Настройка Agendas Database в Notion
- ⚙️ Конфигурация переменных окружения
- 📊 Мониторинг использования системы
- 🔧 Настройка автоматизации

### Техническая поддержка
- 📁 Логи создания повесток в `logs/bot.log`
- 🔍 Диагностика через команды системы
- 📊 Анализ производительности через метрики
- 🛠️ Настройка интеграций с внешними системами

---

*Полное руководство по системе повесток обновлено: декабрь 2024*

**🎉 Организуйте свою работу и командные процессы с помощью интеллектуальных автоматических повесток!** ✨
